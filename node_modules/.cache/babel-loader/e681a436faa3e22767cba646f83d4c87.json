{"ast":null,"code":"const GET_TOKEN = 'GET_TOKEN';\nconst REQUEST_TOKEN = 'REQUEST_TOKEN';\nconst FAILED_REQUEST = 'FAILED_REQUEST';\nconst ADD_NEW_PLAYER = 'ADD_NEW_PLAYER';\nconst REQUEST_QUESTIONS = 'REQUEST_QUESTIONS';\nconst GET_QUESTIONS = 'GET_QUESTIONS';\n\nfunction getToken(json) {\n  return {\n    type: GET_TOKEN,\n    payload: json.token\n  };\n}\n\nfunction requestToken() {\n  return {\n    type: REQUEST_TOKEN\n  };\n}\n\nfunction failedRequest(error) {\n  return {\n    type: FAILED_REQUEST,\n    payload: error\n  };\n}\n\nfunction requestQuestions() {\n  return {\n    type: REQUEST_QUESTIONS,\n    payload: token\n  };\n}\n\nfunction getQuestions(json) {\n  return {\n    type: GET_QUESTIONS,\n    payload: json\n  };\n}\n\nexport function fetchToken() {\n  return async dispatch => {\n    dispatch(requestToken());\n\n    try {\n      const response = await fetch('https://opentdb.com/api_token.php?command=request');\n      const json = await response.json();\n      return dispatch(getToken(json));\n    } catch (error) {\n      return dispatch(failedRequest(error));\n    }\n  };\n}\nexport function fetchQuestions(token) {\n  return async dispatch => {\n    dispatch(requestQuestions());\n\n    try {\n      const response = await fetch(`https://opentdb.com/api.php?amount=5&token=${token}`);\n      const json = await response.json();\n      return dispatch(getQuestions(json));\n    } catch (error) {\n      return dispatch(failedRequest(error));\n    }\n  };\n} // https://opentdb.com/api.php?amount=${quantidade-de-perguntas-retornadas}&token=${seu-token-aqui}\n// // Recomendação\n// https://opentdb.com/api.php?amount=5&token=${seu-token-aqui}\n\nconst addNewPlayer = (name, email) => ({\n  type: ADD_NEW_PLAYER,\n  name,\n  email\n});\n\nexport { GET_TOKEN, REQUEST_TOKEN, FAILED_REQUEST, addNewPlayer, GET_QUESTIONS, REQUEST_QUESTIONS };","map":{"version":3,"sources":["/home/ramond/Documentos/projetos-trybe/sd-019-a-project-trivia-react-redux/src/redux/actions/index.js"],"names":["GET_TOKEN","REQUEST_TOKEN","FAILED_REQUEST","ADD_NEW_PLAYER","REQUEST_QUESTIONS","GET_QUESTIONS","getToken","json","type","payload","token","requestToken","failedRequest","error","requestQuestions","getQuestions","fetchToken","dispatch","response","fetch","fetchQuestions","addNewPlayer","name","email"],"mappings":"AAAA,MAAMA,SAAS,GAAG,WAAlB;AACA,MAAMC,aAAa,GAAG,eAAtB;AACA,MAAMC,cAAc,GAAG,gBAAvB;AACA,MAAMC,cAAc,GAAG,gBAAvB;AACA,MAAMC,iBAAiB,GAAG,mBAA1B;AACA,MAAMC,aAAa,GAAG,eAAtB;;AAEA,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACtB,SAAO;AAAEC,IAAAA,IAAI,EAAER,SAAR;AAAmBS,IAAAA,OAAO,EAAEF,IAAI,CAACG;AAAjC,GAAP;AACD;;AAED,SAASC,YAAT,GAAwB;AACtB,SAAO;AAAEH,IAAAA,IAAI,EAAEP;AAAR,GAAP;AACD;;AAED,SAASW,aAAT,CAAuBC,KAAvB,EAA8B;AAC5B,SAAO;AAAEL,IAAAA,IAAI,EAAEN,cAAR;AAAwBO,IAAAA,OAAO,EAAEI;AAAjC,GAAP;AACD;;AAED,SAASC,gBAAT,GAA4B;AAC1B,SAAO;AAAEN,IAAAA,IAAI,EAAEJ,iBAAR;AAA2BK,IAAAA,OAAO,EAAEC;AAApC,GAAP;AACD;;AAED,SAASK,YAAT,CAAsBR,IAAtB,EAA4B;AAC1B,SAAO;AAAEC,IAAAA,IAAI,EAAEH,aAAR;AAAuBI,IAAAA,OAAO,EAAEF;AAAhC,GAAP;AACD;;AAED,OAAO,SAASS,UAAT,GAAsB;AAC3B,SAAO,MAAOC,QAAP,IAAoB;AACzBA,IAAAA,QAAQ,CAACN,YAAY,EAAb,CAAR;;AACA,QAAI;AACF,YAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAC,mDAAD,CAA5B;AACA,YAAMZ,IAAI,GAAG,MAAMW,QAAQ,CAACX,IAAT,EAAnB;AACA,aAAOU,QAAQ,CAACX,QAAQ,CAACC,IAAD,CAAT,CAAf;AACD,KAJD,CAIE,OAAOM,KAAP,EAAc;AACd,aAAOI,QAAQ,CAACL,aAAa,CAACC,KAAD,CAAd,CAAf;AACD;AACF,GATD;AAUD;AAED,OAAO,SAASO,cAAT,CAAwBV,KAAxB,EAA+B;AACpC,SAAO,MAAOO,QAAP,IAAoB;AACzBA,IAAAA,QAAQ,CAACH,gBAAgB,EAAjB,CAAR;;AACA,QAAI;AACF,YAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAE,8CAA6CT,KAAM,EAArD,CAA5B;AACA,YAAMH,IAAI,GAAG,MAAMW,QAAQ,CAACX,IAAT,EAAnB;AACA,aAAOU,QAAQ,CAACF,YAAY,CAACR,IAAD,CAAb,CAAf;AACD,KAJD,CAIE,OAAOM,KAAP,EAAc;AACd,aAAOI,QAAQ,CAACL,aAAa,CAACC,KAAD,CAAd,CAAf;AACD;AACF,GATD;AAUD,C,CAED;AAEA;AACA;;AAEA,MAAMQ,YAAY,GAAG,CAACC,IAAD,EAAOC,KAAP,MAAkB;AACrCf,EAAAA,IAAI,EAAEL,cAD+B;AAErCmB,EAAAA,IAFqC;AAGrCC,EAAAA;AAHqC,CAAlB,CAArB;;AAMA,SACEvB,SADF,EAEEC,aAFF,EAGEC,cAHF,EAIEmB,YAJF,EAKEhB,aALF,EAMED,iBANF","sourcesContent":["const GET_TOKEN = 'GET_TOKEN';\nconst REQUEST_TOKEN = 'REQUEST_TOKEN';\nconst FAILED_REQUEST = 'FAILED_REQUEST';\nconst ADD_NEW_PLAYER = 'ADD_NEW_PLAYER';\nconst REQUEST_QUESTIONS = 'REQUEST_QUESTIONS';\nconst GET_QUESTIONS = 'GET_QUESTIONS';\n\nfunction getToken(json) {\n  return { type: GET_TOKEN, payload: json.token };\n}\n\nfunction requestToken() {\n  return { type: REQUEST_TOKEN };\n}\n\nfunction failedRequest(error) {\n  return { type: FAILED_REQUEST, payload: error };\n}\n\nfunction requestQuestions() {\n  return { type: REQUEST_QUESTIONS, payload: token };\n}\n\nfunction getQuestions(json) {\n  return { type: GET_QUESTIONS, payload: json };\n}\n\nexport function fetchToken() {\n  return async (dispatch) => {\n    dispatch(requestToken());\n    try {\n      const response = await fetch('https://opentdb.com/api_token.php?command=request');\n      const json = await response.json();\n      return dispatch(getToken(json));\n    } catch (error) {\n      return dispatch(failedRequest(error));\n    }\n  };\n}\n\nexport function fetchQuestions(token) {\n  return async (dispatch) => {\n    dispatch(requestQuestions());\n    try {\n      const response = await fetch(`https://opentdb.com/api.php?amount=5&token=${token}`);\n      const json = await response.json();\n      return dispatch(getQuestions(json));\n    } catch (error) {\n      return dispatch(failedRequest(error));\n    }\n  };\n}\n\n// https://opentdb.com/api.php?amount=${quantidade-de-perguntas-retornadas}&token=${seu-token-aqui}\n\n// // Recomendação\n// https://opentdb.com/api.php?amount=5&token=${seu-token-aqui}\n\nconst addNewPlayer = (name, email) => ({\n  type: ADD_NEW_PLAYER,\n  name,\n  email,\n});\n\nexport {\n  GET_TOKEN,\n  REQUEST_TOKEN,\n  FAILED_REQUEST,\n  addNewPlayer,\n  GET_QUESTIONS,\n  REQUEST_QUESTIONS,\n};\n"]},"metadata":{},"sourceType":"module"}