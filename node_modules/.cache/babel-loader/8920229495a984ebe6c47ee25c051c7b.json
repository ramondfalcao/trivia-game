{"ast":null,"code":"const GET_TOKEN = 'GET_TOKEN';\nconst REQUEST_TOKEN = 'REQUEST_TOKEN';\nconst FAILED_REQUEST = 'FAILED_REQUEST';\nconst REQUEST_QUESTIONS = 'REQUEST_QUESTIONS';\nconst GET_QUESTIONS = 'GET_QUESTIONS';\n\nfunction getToken(json) {\n  return {\n    type: GET_TOKEN,\n    payload: json.token\n  };\n}\n\nfunction requestToken() {\n  return {\n    type: REQUEST_TOKEN\n  };\n}\n\nfunction failedRequest(error) {\n  return {\n    type: FAILED_REQUEST,\n    payload: error\n  };\n}\n\nfunction requestQuestions(json) {\n  return {\n    type: REQUEST_QUESTIONS,\n    payload: json\n  };\n}\n\nexport function fetchToken() {\n  return async dispatch => {\n    dispatch(requestToken());\n\n    try {\n      const response = await fetch('https://opentdb.com/api_token.php?command=request');\n      const json = await response.json();\n      return dispatch(getToken(json));\n    } catch (error) {\n      return dispatch(failedRequest(error));\n    }\n  };\n}\nexport function fetchQuestions(token) {\n  return async (dispatch, token) => {\n    dispatch(requestQuestions(token));\n\n    try {\n      const response = await fetch(`https://opentdb.com/api.php?amount=5&token=${token}`);\n      const json = await response.json();\n      return dispatch(getToken(json));\n    } catch (error) {\n      return dispatch(failedRequest(error));\n    }\n  };\n} // https://opentdb.com/api.php?amount=${quantidade-de-perguntas-retornadas}&token=${seu-token-aqui}\n// // Recomendação\n// https://opentdb.com/api.php?amount=5&token=${seu-token-aqui}\n\nconst addNewPlayer = (name, email) => ({\n  type: 'ADD_NEW_PLAYER',\n  name,\n  email\n});\n\nexport { GET_TOKEN, REQUEST_TOKEN, FAILED_REQUEST, addNewPlayer };","map":{"version":3,"sources":["/home/ramond/Documentos/projetos-trybe/sd-019-a-project-trivia-react-redux/src/redux/actions/index.js"],"names":["GET_TOKEN","REQUEST_TOKEN","FAILED_REQUEST","REQUEST_QUESTIONS","GET_QUESTIONS","getToken","json","type","payload","token","requestToken","failedRequest","error","requestQuestions","fetchToken","dispatch","response","fetch","fetchQuestions","addNewPlayer","name","email"],"mappings":"AAAA,MAAMA,SAAS,GAAG,WAAlB;AACA,MAAMC,aAAa,GAAG,eAAtB;AACA,MAAMC,cAAc,GAAG,gBAAvB;AACA,MAAMC,iBAAiB,GAAG,mBAA1B;AACA,MAAMC,aAAa,GAAG,eAAtB;;AAEA,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACtB,SAAO;AAAEC,IAAAA,IAAI,EAAEP,SAAR;AAAmBQ,IAAAA,OAAO,EAAEF,IAAI,CAACG;AAAjC,GAAP;AACD;;AAED,SAASC,YAAT,GAAwB;AACtB,SAAO;AAAEH,IAAAA,IAAI,EAAEN;AAAR,GAAP;AACD;;AAED,SAASU,aAAT,CAAuBC,KAAvB,EAA8B;AAC5B,SAAO;AAAEL,IAAAA,IAAI,EAAEL,cAAR;AAAwBM,IAAAA,OAAO,EAAEI;AAAjC,GAAP;AACD;;AAED,SAASC,gBAAT,CAA0BP,IAA1B,EAAgC;AAC9B,SAAO;AAAEC,IAAAA,IAAI,EAAEJ,iBAAR;AAA2BK,IAAAA,OAAO,EAAEF;AAApC,GAAP;AACD;;AAED,OAAO,SAASQ,UAAT,GAAsB;AAC3B,SAAO,MAAOC,QAAP,IAAoB;AACzBA,IAAAA,QAAQ,CAACL,YAAY,EAAb,CAAR;;AACA,QAAI;AACF,YAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAC,mDAAD,CAA5B;AACA,YAAMX,IAAI,GAAG,MAAMU,QAAQ,CAACV,IAAT,EAAnB;AACA,aAAOS,QAAQ,CAACV,QAAQ,CAACC,IAAD,CAAT,CAAf;AACD,KAJD,CAIE,OAAOM,KAAP,EAAc;AACd,aAAOG,QAAQ,CAACJ,aAAa,CAACC,KAAD,CAAd,CAAf;AACD;AACF,GATD;AAUD;AAED,OAAO,SAASM,cAAT,CAAwBT,KAAxB,EAA+B;AACpC,SAAO,OAAOM,QAAP,EAAiBN,KAAjB,KAA2B;AAChCM,IAAAA,QAAQ,CAACF,gBAAgB,CAACJ,KAAD,CAAjB,CAAR;;AACA,QAAI;AACF,YAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAE,8CAA6CR,KAAM,EAArD,CAA5B;AACA,YAAMH,IAAI,GAAG,MAAMU,QAAQ,CAACV,IAAT,EAAnB;AACA,aAAOS,QAAQ,CAACV,QAAQ,CAACC,IAAD,CAAT,CAAf;AACD,KAJD,CAIE,OAAOM,KAAP,EAAc;AACd,aAAOG,QAAQ,CAACJ,aAAa,CAACC,KAAD,CAAd,CAAf;AACD;AACF,GATD;AAUD,C,CAED;AAEA;AACA;;AAEA,MAAMO,YAAY,GAAG,CAACC,IAAD,EAAOC,KAAP,MAAkB;AACrCd,EAAAA,IAAI,EAAE,gBAD+B;AAErCa,EAAAA,IAFqC;AAGrCC,EAAAA;AAHqC,CAAlB,CAArB;;AAMA,SACErB,SADF,EAEEC,aAFF,EAGEC,cAHF,EAIEiB,YAJF","sourcesContent":["const GET_TOKEN = 'GET_TOKEN';\nconst REQUEST_TOKEN = 'REQUEST_TOKEN';\nconst FAILED_REQUEST = 'FAILED_REQUEST';\nconst REQUEST_QUESTIONS = 'REQUEST_QUESTIONS';\nconst GET_QUESTIONS = 'GET_QUESTIONS';\n\nfunction getToken(json) {\n  return { type: GET_TOKEN, payload: json.token };\n}\n\nfunction requestToken() {\n  return { type: REQUEST_TOKEN };\n}\n\nfunction failedRequest(error) {\n  return { type: FAILED_REQUEST, payload: error };\n}\n\nfunction requestQuestions(json) {\n  return { type: REQUEST_QUESTIONS, payload: json };\n}\n\nexport function fetchToken() {\n  return async (dispatch) => {\n    dispatch(requestToken());\n    try {\n      const response = await fetch('https://opentdb.com/api_token.php?command=request');\n      const json = await response.json();\n      return dispatch(getToken(json));\n    } catch (error) {\n      return dispatch(failedRequest(error));\n    }\n  };\n}\n\nexport function fetchQuestions(token) {\n  return async (dispatch, token) => {\n    dispatch(requestQuestions(token));\n    try {\n      const response = await fetch(`https://opentdb.com/api.php?amount=5&token=${token}`);\n      const json = await response.json();\n      return dispatch(getToken(json));\n    } catch (error) {\n      return dispatch(failedRequest(error));\n    }\n  };\n}\n\n// https://opentdb.com/api.php?amount=${quantidade-de-perguntas-retornadas}&token=${seu-token-aqui}\n\n// // Recomendação\n// https://opentdb.com/api.php?amount=5&token=${seu-token-aqui}\n\nconst addNewPlayer = (name, email) => ({\n  type: 'ADD_NEW_PLAYER',\n  name,\n  email,\n});\n\nexport {\n  GET_TOKEN,\n  REQUEST_TOKEN,\n  FAILED_REQUEST,\n  addNewPlayer,\n};\n"]},"metadata":{},"sourceType":"module"}